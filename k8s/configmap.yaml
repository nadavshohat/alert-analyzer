---
apiVersion: v1
kind: ConfigMap
metadata:
  name: alert-analyzer-config
  namespace: groundcover
data:
  CLICKHOUSE_HOST: "groundcover-clickhouse"
  CLICKHOUSE_PORT: "8123"
  CLICKHOUSE_USER: "default"
  CLICKHOUSE_DATABASE: "groundcover"
  POLL_INTERVAL_SECONDS: "30"
  DEDUP_WINDOW_SECONDS: "1800"
  LOG_LOOKBACK_MINUTES: "30"
  EXCLUDE_NAMESPACES: "kube-system,groundcover"
  EVENT_REASONS: "CrashLoopBackOff,OOMKilled,BackOff,Failed,Error"
  BEDROCK_REGION: "us-west-2"
  BEDROCK_MODEL: "us.anthropic.claude-sonnet-4-5-20250929-v1:0"
  BEDROCK_MAX_TOKENS: "1024"
  GROUNDCOVER_BASE_URL: "https://app.groundcover.com"
  GROUNDCOVER_TENANT_UUID: "3a5edc8c-5cf8-44e6-9c01-270233ab11e4"
  CLUSTER_NAME: "ensights-prod-cluster"
---
apiVersion: v1
kind: Secret
metadata:
  name: alert-analyzer-secrets
  namespace: groundcover
type: Opaque
stringData:
  CLICKHOUSE_PASSWORD: "<your-clickhouse-password>"
  SLACK_WEBHOOK_URL: "<your-slack-webhook-url>"
  CONTEXT7_API_KEY: "<your-context7-api-key>"
